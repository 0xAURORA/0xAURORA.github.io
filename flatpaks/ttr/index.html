<!doctype html>
<html lang="en">
  <head>
    <title>Toontown Rewritten on Linux with Flatpak</title>
    <meta charset="utf-8">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="https://www.xytime.xyz/">Index</a>
              </li>
            <li class="nav-item dropdown">
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="https://www.xytime.xyz/flatpaks/ttr/index.html">Toontown Rewritten</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="https://www.xytime.xyz/guides/ttr-on-cros.html">TTR on ChromeOS</a>
                </div>
              </li>
          </div>
        </div>
      </nav>
      <div class="color4">
        <div class="pattern4">
    <div class="container">
        <h1>Toontown Rewritten Flatpak</h1>
<p>This unofficial flatpak provides an easy way to run <a target="_blank" href="https://www.toontownrewritten.com">Toontown Rewritten</a> on any Linux-based system that supports flatpak.</p>
<p>If your system does not already have it installed, typically you can install Flatpak by installing the 'flatpak' package from your distro's repositories. For more details on installing flatpak on your distro, see <a target="_blank" href="https://flatpak.org/setup/">here</a>.</p>
<img src="screenshot.png"/>
<br /><br />
<h2>Installation</h2>
<p>To get Toontown Rewritten, all you need to do is run the following command (Assuming you've got flatpak installed).</p> 
<code>flatpak --user install https://www.xytime.xyz/flatpaks/ttr/toontown.flatpakref</code>
<br><br>
<p>An icon for Toontown Rewritten should automatically be added to your system menu. Do note that you need to restart your session to get it to show up if you just installed Flatpak.</p>
<p>If you ever find yourself needing to access the game files, you will find them in ~/.var/xyz.xytime.Toontown/data/toontown-rewritten/</p>
<p>I may periodically push updates to fix issues or add features to the flatpak. You can get the latest version using <i>flatpak --user update</i>.</p>
<h2>Permissions</h2>
<p>This app requires the following permissions</p>
<ul>
    <li>fallback-x11 - Allows usage of wayland/x11</li>
    <li>network - This is an online game. It needs network access.</li>
    <li>ipc - For X11 IPC</li>
    <li>dri - Allows the game to use GPU acceleration</li>
    <li>pulseaudio - Needed for audio</li>
    <li>access to /run/user/1000/discord-ipc-0 - Allows discord rpc to work properly</li>
</ul>
<h2>Why?</h3>
<ul>
<li>Ease of setup - Flatpak will take care of menu entries for you</li>
<li>Easy to update - Updates for the flatpak version will appear in gnome software (and other software applications that support flatpaks)</li>
<li>Works out of the box - All dependencies are shipped with the flatpak for both the launcher and the game. Also does not suffer from the default launcher's libdrm issues. Furthermore, some more bleeding edge Linux distros, like Fedora and Arch Linux, ship newer versions of Mesa, which are known to have issues with the game. The runtime included with the flatpak provides an older version of Mesa that is known to work well with Toontown Rewritten.</li>
</ul>
<h2>Changes</h2>
<h5>July 5, 2020</h5>
<p>Code cleanup, fix the black right-click menu for the news Window, and only try to set the wmclass 3 times instead of every 1.5 seconds.</p>
<h5>May 8, 2020</h5>
<p>Updated the CDN URL to cdn.toontownrewritten.com and the mirror to download.toontownrewritten.com</p>
<h5>April 20, 2020</h5>
<p>Added a small binary to set the WM_CLASS of Toontown Rewritten to 'toontown' so that most DEs can display the icon correctly on the window list. Also uses the new logo now.</p>
<h5>March 22, 2020</h5>
<p>Added a missing dependency, xsel, which is needed for copying some text in-game.</p>
<h5>January 26, 2020</h5>
<p>Rewrote _obtainFresh(). The previous implementation was suboptimal and actually slowed download speeds by quite a bit. This version fixes that.</p>
<h5>January 18, 2020</h5>
<p>Fixed an issue with some wayland based desktops that prevented some users from moving the launcher window</p>
<h5>January 11, 2020</h5>
<p>Fixed Launcher and game not showing up under the same icon for some desktop environments.</p>
<h5>December 22, 2019</h5>
<p>Rebuilt the flatpak with webengine included for news. Also added different sized icons so it appears correct on all desktop environments.</p>
<h2>Bugs</h2>
<p>Please email contact@xytime.xyz for concerns/issues regarding the flatpak. Email support@toontownrewritten.com for concerns/issues regarding the game.</p>
<br>
    <i>The Toontown Rewritten team does not support or endorse anything in this repository. This effort is completely independent of them.</i>
    </div>
  </div>
</div>
</body>
</html>
